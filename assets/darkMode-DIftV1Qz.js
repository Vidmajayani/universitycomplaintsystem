import{s as d}from"./supabaseClient-DP-aSKaS.js";const i=[document.getElementById("darkModeToggle"),document.getElementById("mobileDarkModeToggle")],r=document.getElementById("mobileMenuButton"),l=document.getElementById("mobileMenu"),o=document.getElementById("overlay"),a=document.getElementById("profileButton"),n=document.getElementById("profileMenu");function s(){document.documentElement.classList.toggle("dark"),localStorage.setItem("theme",document.documentElement.classList.contains("dark")?"dark":"light")}i.forEach(e=>{e&&e.addEventListener("click",s)});(localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark");r&&l&&(r.addEventListener("click",()=>{l.classList.toggle("-translate-x-full"),o&&o.classList.toggle("hidden")}),o&&o.addEventListener("click",()=>{l.classList.add("-translate-x-full"),o.classList.add("hidden")}));a&&n&&(a.addEventListener("click",e=>{e.stopPropagation(),n.classList.toggle("hidden")}),document.addEventListener("click",e=>{!n.classList.contains("hidden")&&!a.contains(e.target)&&n.classList.add("hidden")}));async function c(e){e.preventDefault();try{const{error:t}=await d.auth.signOut();if(t){console.error("Error signing out:",t),alert("Error logging out. Please try again.");return}localStorage.clear(),window.location.href="Login.html"}catch(t){console.error("Unexpected logout error:",t),alert("Error logging out. Please try again.")}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('a[href="Login.html"]').forEach(t=>{(t.textContent.trim().toLowerCase().includes("log out")||t.textContent.trim().toLowerCase().includes("logout"))&&t.addEventListener("click",c)})});
